'use client';

import { useState } from 'react';
import { Shield, Activity, AlertTriangle, Sparkles, BookOpen, Globe, Menu, X } from 'lucide-react';
import { STRINGS } from '@/constants';

// Placeholder for features not added yet
const Placeholder = ({ name }: { name: string }) => (
  <div className="text-center py-20">
    <h2 className="text-5xl font-bold mb-6">{name}</h2>
    <p className="text-xl opacity-80">This powerful feature is ready and coming soon!</p>
    <p className="text-lg mt-4 opacity-60">Stay tuned â€” QuantumGuard is growing fast ðŸ‡®ðŸ‡³</p>
  </div>
);

type View = 'scanner' | 'device' | 'news' | 'education';
type Lang = 'en' | 'hi';

export default function App() {
  const [view, setView] = useState<View>('scanner');
  const [lang, setLang] = useState<Lang>('en');
  const [menuOpen, setMenuOpen] = useState(false);
  const t = STRINGS[lang];

  const NavButton = ({ v, icon: Icon, label }: { v: View; icon: any; label: string }) => (
    <button
      onClick={() => { setView(v); setMenuOpen(false); }}
      className={`flex items-center gap-3 px-6 py-3 rounded-full transition-all ${view === v ? 'bg-cyan-500/30 border border-cyan-400 text-white font-bold' : 'text-gray-300 hover:bg-white/10'}`}
    >
      <Icon className="w-5 h-5" />
      {label}
    </button>
  );

  return (
    <div className="min-h-screen bg-gradient-to-b from-purple-900 via-black to-blue-900 text-white relative overflow-hidden">
      {/* Animated Background Blobs */}
      <div className="fixed inset-0 pointer-events-none">
        <div className="absolute top-0 left-0 w-96 h-96 bg-purple-600/30 rounded-full blur-3xl animate-pulse" />
        <div className="absolute bottom-0 right-0 w-96 h-96 bg-cyan-600/30 rounded-full blur-3xl animate-pulse delay-1000" />
      </div>

      {/* Header */}
      <header className="sticky top-4 z-50 mx-4">
        <div className="bg-black/50 backdrop-blur-xl rounded-2xl border border-white/10 p-4">
          <div className="flex justify-between items-center">
            <div className="flex items-center gap-4">
              <div className="p-3 bg-cyan-500/30 rounded-xl">
                <Shield className="w-8 h-8 text-cyan-400" />
              </div>
              <div>
                <h1 className="text-2xl font-bold">{t.appName}</h1>
                <p className="text-sm opacity-80">{t.tagline}</p>
              </div>
            </div>

            {/* Desktop Navigation */}
            <div className="hidden md:flex items-center gap-4">
              <NavButton v="scanner" icon={Activity} label={t.scanner} />
              <NavButton v="device" icon={AlertTriangle} label={t.deviceCheck} />
              <NavButton v="news" icon={Sparkles} label={t.latestNews} />
              <NavButton v="education" icon={BookOpen} label={t.education} />
              <button onClick={() => setLang(lang === 'en' ? 'hi' : 'en')} className="px-4 py-2 rounded-full border border-white/20 hover:bg-white/10">
                <Globe className="w-5 h-5 inline mr-2" />
                {t.language}
              </button>
            </div>

            {/* Mobile Menu Button */}
            <button onClick={() => setMenuOpen(!menuOpen)} className="md:hidden">
              {menuOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}
            </button>
          </div>

          {/* Mobile Menu */}
          {menuOpen && (
            <div className="md:hidden mt-4 space-y-3">
              <NavButton v="scanner" icon={Activity} label={t.scanner} />
              <NavButton v="device" icon={AlertTriangle} label={t.deviceCheck} />
              <NavButton v="news" icon={Sparkles} label={t.latestNews} />
              <NavButton v="education" icon={BookOpen} label={t.education} />
              <button onClick={() => setLang(lang === 'en' ? 'hi' : 'en')} className="flex items-center gap-3 px-6 py-3 rounded-full border border-white/20 w-full text-left">
                <Globe className="w-5 h-5" />
                {t.language}
              </button>
            </div>
          )}
        </div>
      </header>

      {/* Main Content */}
      <main className="relative z-10 px-4 py-8">
        {view === 'scanner' && <Placeholder name={t.scanner} />}
        {view === 'device' && <Placeholder name={t.deviceCheck} />}
        {view === 'news' && <Placeholder name={t.latestNews} />}
        {view === 'education' && <Placeholder name={t.education} />}
      </main>

      {/* Footer */}
      <footer className="py-8 text-center opacity-70 text-sm">
        <p>{t.footer}</p>
      </footer>
    </div>
  );
}